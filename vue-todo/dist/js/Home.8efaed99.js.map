{"version":3,"sources":["webpack:///./src/components/page/Home.vue?e496","webpack:///src/components/page/Home.vue","webpack:///./src/components/page/Home.vue?729f","webpack:///./src/components/page/Home.vue","webpack:///./src/components/page/Home.vue?2b10"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","$route","path","on","handleSelect","login","_v","isLogin","_s","userInfo","nickname","slot","name","_e","loginout","staticRenderFns","provide","reload","getUserInfo","getuserinfo","data","activeIndex","username","identity_name","mounted","methods","claims","self","$axios","key","$router","push","localStorage","removeItem","created","component"],"mappings":"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","file":"js/Home.8efaed99.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-menu',{staticClass:\"el-menu-demo\",attrs:{\"default-active\":_vm.$route.path,\"mode\":\"horizontal\"},on:{\"select\":_vm.handleSelect,\"update\":_vm.login}},[_c('el-row',[_c('el-col',{attrs:{\"span\":1,\"offset\":0}},[_c('el-menu-item',{attrs:{\"index\":\"/\"}},[_vm._v(\"首頁\")])],1),_c('el-col',{attrs:{\"span\":1,\"offset\":0}},[_c('el-menu-item',{attrs:{\"index\":\"/paintInfo\"}},[_vm._v(\"繪師\")])],1),_c('el-col',{attrs:{\"span\":1,\"offset\":0}},[_c('el-menu-item',{attrs:{\"index\":\"/projects\"}},[_vm._v(\"企劃\")])],1),_c('el-col',{attrs:{\"span\":1,\"offset\":0}},[_c('el-menu-item',{attrs:{\"index\":\"/artworks\"}},[_vm._v(\"作品\")])],1),_c('el-col',{attrs:{\"span\":2,\"offset\":0}},[_c('el-menu-item',{attrs:{\"index\":\"/about\"}},[_vm._v(\"關於我們\")])],1),_c('el-col',{attrs:{\"span\":2,\"offset\":15}},[(!_vm.isLogin)?_c('el-menu-item',{attrs:{\"index\":\"/login\"}},[_vm._v(\"登入\")]):_c('el-menu-item',[_c('el-dropdown',[_c('el-button',{attrs:{\"type\":\"primary\"}},[_vm._v(\"\\n              Hi \"+_vm._s(_vm.userInfo.nickname)+\"\\n              \"),_c('i',{staticClass:\"el-icon-arrow-down el-icon--right\"})]),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',[_c('router-link',{attrs:{\"to\":\"/accoutinfo\"}},[_vm._v(\"個人資料\")])],1),_c('el-dropdown-item',[_c('router-link',{attrs:{\"to\":\"/ForgetPassword\"}},[_vm._v(\"忘記密碼\")])],1),(_vm.userInfo.name=='系統管理員')?[_c('el-dropdown-item',[_c('router-link',{attrs:{\"to\":\"/paintindex\"}},[_vm._v(\"繪師主頁\")])],1),_c('el-dropdown-item',[_c('router-link',{attrs:{\"to\":\"/projectindex\"}},[_vm._v(\"業主主頁\")])],1),_c('el-dropdown-item',[_c('router-link',{attrs:{\"to\":\"/invite\"}},[_vm._v(\"邀請頁\")])],1)]:_vm._e(),_c('el-dropdown-item',[_vm._v(\"Action 4\")]),_c('el-dropdown-item',[_vm._v(\"Action 5\")])],2)],1)],1)],1),_c('el-col',{attrs:{\"span\":1}},[(!_vm.isLogin)?_c('el-menu-item',{attrs:{\"index\":\"/register\"}},[_vm._v(\"註冊\")]):_c('el-menu-item',{on:{\"click\":_vm.loginout}},[_vm._v(\"登出\")])],1)],1)],1),_c('el-main',[_c('router-view',{attrs:{\"local\":_vm.isLogin}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <!--<el-header>-->\r\n    <el-menu\r\n      :default-active=\"$route.path\"\r\n      class=\"el-menu-demo\"\r\n      mode=\"horizontal\"\r\n      @select=\"handleSelect\"\r\n      @update=\"login\"\r\n    >\r\n      <el-row>\r\n        <el-col :span=\"1\" :offset=\"0\">\r\n          <el-menu-item index=\"/\">首頁</el-menu-item>\r\n        </el-col>\r\n        <el-col :span=\"1\" :offset=\"0\">\r\n          <el-menu-item index=\"/paintInfo\">繪師</el-menu-item>\r\n        </el-col>\r\n        <el-col :span=\"1\" :offset=\"0\">\r\n          <el-menu-item index=\"/projects\">企劃</el-menu-item>\r\n        </el-col>\r\n        <el-col :span=\"1\" :offset=\"0\">\r\n          <el-menu-item index=\"/artworks\">作品</el-menu-item>\r\n        </el-col>\r\n        <el-col :span=\"2\" :offset=\"0\">\r\n          <el-menu-item index=\"/about\">關於我們</el-menu-item>\r\n        </el-col>\r\n        <el-col :span=\"2\" :offset=\"15\">\r\n          <el-menu-item v-if=\"!isLogin\" index=\"/login\">登入</el-menu-item>\r\n          <el-menu-item v-else>\r\n            <el-dropdown>\r\n              <el-button type=\"primary\">\r\n                Hi {{userInfo.nickname}}\r\n                <i class=\"el-icon-arrow-down el-icon--right\"></i>\r\n              </el-button>\r\n              <el-dropdown-menu slot=\"dropdown\">\r\n                <el-dropdown-item>\r\n                  <router-link to=\"/accoutinfo\">個人資料</router-link>\r\n                </el-dropdown-item>\r\n                <el-dropdown-item>\r\n                  <router-link to=\"/ForgetPassword\">忘記密碼</router-link>\r\n                </el-dropdown-item>\r\n                <template v-if=\"userInfo.name=='系統管理員'\">\r\n                  <el-dropdown-item>\r\n                    <router-link to=\"/paintindex\">繪師主頁</router-link>\r\n                  </el-dropdown-item>\r\n                  <el-dropdown-item>\r\n                    <router-link to=\"/projectindex\">業主主頁</router-link>\r\n                  </el-dropdown-item>\r\n                  <el-dropdown-item>\r\n                    <router-link to=\"/invite\">邀請頁</router-link>\r\n                  </el-dropdown-item>\r\n                </template>\r\n                <el-dropdown-item>Action 4</el-dropdown-item>\r\n                <el-dropdown-item>Action 5</el-dropdown-item>\r\n              </el-dropdown-menu>\r\n            </el-dropdown>\r\n          </el-menu-item>\r\n        </el-col>\r\n        <el-col :span=\"1\">\r\n          <el-menu-item v-if=\"!isLogin\" index=\"/register\">註冊</el-menu-item>\r\n          <el-menu-item v-else @click=\"loginout\">登出</el-menu-item>\r\n        </el-col>\r\n      </el-row>\r\n    </el-menu>\r\n    <!--</el-header>-->\r\n    <el-main>\r\n      <router-view v-bind:local=\"isLogin\"></router-view>\r\n    </el-main>\r\n  </div>\r\n</template>\r\n<script>\r\n// import { mapState } from 'vuex'\r\nexport default {\r\n  name: \"Home\",\r\n  provide: function() {\r\n    return {\r\n      reload: this.reload,\r\n      getUserInfo: this.getuserinfo\r\n    };\r\n  },\r\n  data() {\r\n    return {\r\n      activeIndex: \"1\",\r\n      isLogin: false,\r\n      userInfo: {\r\n        username: \"\",\r\n        identity_name: \"\"\r\n      }\r\n    };\r\n  },\r\n  mounted() {\r\n    this.getUserInfo();\r\n  },\r\n  // computed: {\r\n  //   ...mapState({\r\n  //     // isLogin: state => state.isLogin\r\n  //   })\r\n  // },\r\n  methods: {\r\n    getUserInfo() {\r\n      this.isLogin = false;\r\n      let self = this;\r\n      let claims = localStorage.getItem(\"claims\");\r\n      // console.log(claims);\r\n      if (claims) {\r\n        self.$axios\r\n          .get(\"/api/v1/auth/getUserInfo\", {\r\n            headers: {\r\n              authorization: \"Bearer \" + claims\r\n            }\r\n          })\r\n          .then(function(response) {\r\n            if (response.data.status === \"0000\") {\r\n              // console.log(response.data);\r\n              self.userInfo = response.data.userInfo;\r\n              self.isLogin = true;\r\n              // this.$store.commit('login')\r\n              // console.log(self.userInfo);\r\n            }\r\n          })\r\n          .catch(function(_error) {\r\n            console.log(_error);\r\n          });\r\n      }\r\n    },\r\n    handleSelect(key, keyPath) {\r\n      // eslint-disable-line no-unused-vars\r\n      if (key !== null) {\r\n        this.$router.push(key);\r\n      }\r\n      // console.log(key, keyPath)\r\n    },\r\n    loginout() {\r\n      // let self = this\r\n      localStorage.removeItem(\"claims\");\r\n      // console.log(self.username)\r\n      this.getUserInfo();\r\n    },\r\n    login() {\r\n      this.getUserInfo();\r\n    },\r\n    reload() {\r\n      this.getUserInfo();\r\n    }\r\n  },\r\n  created: function() {\r\n    // this.getUserInfo()\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.el-header {\r\n  position: fixed;\r\n  right: 0;\r\n  top: 50%;\r\n  width: 8em;\r\n  margin-top: -2.5em;\r\n  background-color: #b3c0d1;\r\n  color: #333;\r\n  line-height: 60px;\r\n}\r\n\r\n/* 設定 el-aside的css配置*/\r\n.el-aside {\r\n  color: #333;\r\n  position: relative;\r\n  float: left;\r\n  top: 0px;\r\n  bottom: 0px;\r\n  background-color: rgb(238, 241, 246);\r\n  height: 100vh;\r\n}\r\n.el-col {\r\n  text-align: center;\r\n}\r\n\r\n/*.el-header, .el-footer {*/\r\n/*  background-color: #B3C0D1;*/\r\n/*  color: #333;*/\r\n/*  text-align: center;*/\r\n/*  line-height: 60px;*/\r\n/*}*/\r\n/*.el-aside {*/\r\n/*  background-color: #D3DCE6;*/\r\n/*  color: #333;*/\r\n/*  text-align: center;*/\r\n/*  line-height: 200px;*/\r\n/*}*/\r\n/*.el-main {*/\r\n/*  background-color: #E9EEF3;*/\r\n/*  color: #333;*/\r\n/*  text-align: center;*/\r\n/*  line-height: 160px;*/\r\n/*}*/\r\n/*body > .el-container {*/\r\n/*  margin-bottom: 40px;*/\r\n/*}*/\r\n/*.el-container:nth-child(5) .el-aside,*/\r\n/*.el-container:nth-child(6) .el-aside {*/\r\n/*  line-height: 260px;*/\r\n/*}*/\r\n/*.el-container:nth-child(7) .el-aside {*/\r\n/*  line-height: 320px;*/\r\n/*}*/\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=346e8268&scoped=true&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Home.vue?vue&type=style&index=0&id=346e8268&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"346e8268\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&id=346e8268&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&id=346e8268&scoped=true&lang=css&\""],"sourceRoot":""}