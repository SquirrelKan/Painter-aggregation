(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Home"],{"0452":function(t,e,n){},4193:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":t.$route.path,mode:"horizontal"},on:{select:t.handleSelect,update:t.login}},[n("el-row",[n("el-col",{attrs:{span:1,offset:0}},[n("el-menu-item",{attrs:{index:"/"}},[t._v("首頁")])],1),n("el-col",{attrs:{span:1,offset:0}},[n("el-menu-item",{attrs:{index:"/paintInfo"}},[t._v("繪師")])],1),n("el-col",{attrs:{span:1,offset:0}},[n("el-menu-item",{attrs:{index:"/projects"}},[t._v("企劃")])],1),n("el-col",{attrs:{span:1,offset:0}},[n("el-menu-item",{attrs:{index:"/artworks"}},[t._v("作品")])],1),n("el-col",{attrs:{span:2,offset:0}},[n("el-menu-item",{attrs:{index:"/about"}},[t._v("關於我們")])],1),n("el-col",{attrs:{span:2,offset:15}},[t.isLogin?n("el-menu-item",[n("el-dropdown",[n("el-button",{attrs:{type:"primary"}},[t._v("\n              Hi "+t._s(t.userInfo.nickname)+"\n              "),n("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",[n("router-link",{attrs:{to:"/accoutinfo"}},[t._v("個人資料")])],1),n("el-dropdown-item",[n("router-link",{attrs:{to:"/ForgetPassword"}},[t._v("忘記密碼")])],1),"系統管理員"==t.userInfo.name?[n("el-dropdown-item",[n("router-link",{attrs:{to:"/paintindex"}},[t._v("繪師主頁")])],1),n("el-dropdown-item",[n("router-link",{attrs:{to:"/projectindex"}},[t._v("業主主頁")])],1),n("el-dropdown-item",[n("router-link",{attrs:{to:"/invite"}},[t._v("邀請頁")])],1)]:t._e(),n("el-dropdown-item",[t._v("Action 4")]),n("el-dropdown-item",[t._v("Action 5")])],2)],1)],1):n("el-menu-item",{attrs:{index:"/login"}},[t._v("登入")])],1),n("el-col",{attrs:{span:1}},[t.isLogin?n("el-menu-item",{on:{click:t.loginout}},[t._v("登出")]):n("el-menu-item",{attrs:{index:"/register"}},[t._v("註冊")])],1)],1)],1),n("el-main",[n("router-view",{attrs:{local:t.isLogin}})],1)],1)},i=[],r={name:"Home",provide:function(){return{reload:this.reload,getUserInfo:this.getuserinfo}},data:function(){return{activeIndex:"1",isLogin:!1,userInfo:{username:"",identity_name:""}}},mounted:function(){this.getUserInfo()},methods:{getUserInfo:function(){this.isLogin=!1;var t=this,e=localStorage.getItem("claims");e&&t.$axios.get("/api/v1/auth/getUserInfo",{headers:{authorization:"Bearer "+e}}).then((function(e){"0000"===e.data.status&&(t.userInfo=e.data.userInfo,t.isLogin=!0)})).catch((function(t){console.log(t)}))},handleSelect:function(t,e){null!==t&&this.$router.push(t)},loginout:function(){localStorage.removeItem("claims"),this.getUserInfo()},login:function(){this.getUserInfo()},reload:function(){this.getUserInfo()}},created:function(){}},s=r,a=(n("b45e"),n("2877")),l=Object(a["a"])(s,o,i,!1,null,"346e8268",null);e["default"]=l.exports},b45e:function(t,e,n){"use strict";var o=n("0452"),i=n.n(o);i.a}}]);
//# sourceMappingURL=Home.8efaed99.js.map